#! /usr/bin/env bash
set -e

#Actual setup script
# Copy shared to ~/.local/share/nyxtra
source $HOME/.local/share/nyxtra/scripts/data/enviroment.sh

printf 'ƒÅrgs: %s\n' "$1"
if [[ $1 == config ]]; then
  bash $NYXTRA_HOME/scripts/install/config.sh
  exit 0
fi


sudo cp -f $NYXTRA_HOME/defaults/pacman.conf /etc/pacman.conf
sudo pacman -Sy --noconfirm

bash $NYXTRA_HOME/scripts/install/install.sh
bash $NYXTRA_HOME/scripts/install/startup.sh
bash $NYXTRA_HOME/scripts/install/config.sh

if [ ! -d "$HOME/.oh-my-zsh" ]; then
    echo "üîß Installing Oh My Zsh..."
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
fi
cp $NYXTRA_HOME/defaults/.zshrc $HOME/.zshrc
